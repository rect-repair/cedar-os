;/*FB_PKG_DELIM*/

__d("Batcher",["TimedOnceFunc"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$5=null,this.$2=a,this.$3=b,this.$4=c,this.$1=[]}var b=a.prototype;b.batch=function(){var a,b=this.$1;this.$1=[];(a=this.$5)==null||a.cancel();this.$5=null;this.$4(b)};b.push=function(a){var b=this;this.$1.push(a);this.$5==null&&(this.$5=new(d("TimedOnceFunc").TimedOnceFunc)(function(){return b.batch()},this.$3));this.$1.length>=this.$2&&this.$5.run()};return a}();g.Batcher=a}),98);
__d("IGDChatTabMessageNotificationUtils",["fbt","I64","LSBitFlag","LSIntEnum","MNXMAPreviewImageDecorationType","MessagingAttachmentType","ReQL","asyncToGeneratorRuntime","getLSMediaContactProfilePictureUrl","intlList"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.attachments).getKeyRange(b.threadKey,b.messageId)));if(a!=null){var e=a.attachmentType;b=(i||(i=d("I64"))).equal(b.displayedContentTypes,(j||(j=d("LSIntEnum"))).ofNumber(4096))||a.stickerType!=null;e=a.hasMedia&&(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));var f=a.hasXma&&a.defaultCtaType!=="xma_web_url";if(b||e||f)return a.previewUrl}return null});return k.apply(this,arguments)}function e(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.attachments).getKeyRange(b.threadKey,b.messageId)));if(a!=null){if((i||(i=d("I64"))).equal(b.displayedContentTypes,(j||(j=d("LSIntEnum"))).ofNumber(4096))||a.stickerType!=null)return h._(/*BTDS*/"Sent a sticker.");if(a.hasXma){var f;f=(f=a.headerTitle)!=null?f:"Instagram User";var g=a.defaultCtaType,k=a.previewImageDecorationType;k!=null&&(i||(i=d("I64"))).equal(k,(j||(j=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL))?e=h._(/*BTDS*/"Sent a reel by {author}",[h._param("author",f)]):g==="igd_web_post_share"?e=h._(/*BTDS*/"Sent a post by {author}",[h._param("author",f)]):g==="xma_montage_share"?e=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(512),b.displayedContentTypes)?h._(/*BTDS*/"Replied to your story"):h._(/*BTDS*/"Sent a story by {author}",[h._param("author",f)]):(a.playableUrlMimeType==="image/gif"||a.playableUrlMimeType==="video/mp4")&&(e=h._(/*BTDS*/"Sent an attachment."))}else if(a.hasMedia){k=a.attachmentType;(i||(i=d("I64"))).equal(k,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))?e=h._(/*BTDS*/"Sent a photo."):(i||(i=d("I64"))).equal(k,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?e=h._(/*BTDS*/"Sent a video."):(i||(i=d("I64"))).equal(k,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))?e=h._(/*BTDS*/"Sent a voice message."):(i||(i=d("I64"))).equal(k,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))&&(e=h._(/*BTDS*/"Sent an attachment."))}}return e});return l.apply(this,arguments)}function m(a,b){return(i||(i=d("I64"))).to_float(a.muteExpireTimeMs)===-1||(i||(i=d("I64"))).to_float(a.muteExpireTimeMs)>b}function f(a,b,c,d,e,f){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g){var h;h=(h=e.reactionCreationTimestampMs)!=null?h:e.timestampMs;if((i||(i=d("I64"))).equal(e.actorId,b)||(i||(i=d("I64"))).to_float(h)<f||g!=null&&g.has((i||(i=d("I64"))).to_string(e.threadKey)))return!1;g=(yield a.tables.threads.get(e.threadKey));if(g==null)return!1;a=m(g,f);if(a)return!1;if(c==null)return(i||(i=d("I64"))).equal(h,g.lastActivityTimestampMs);return(i||(i=d("I64"))).equal(c.senderId,e.actorId)||!(i||(i=d("I64"))).equal(c.senderId,b)?!1:!0});return n.apply(this,arguments)}function o(a,b,c,d,e){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){if(b.isAdminMessage||(i||(i=d("I64"))).equal(b.senderId,c)||(i||(i=d("I64"))).to_float(b.timestampMs)<e||f!=null&&f.has((i||(i=d("I64"))).to_string(b.threadKey)))return!1;c=(yield a.tables.threads.get(b.threadKey));return c!=null&&m(c,e)?!1:!0});return p.apply(this,arguments)}function q(a,b){var e=a.length,f=String(h._(/*BTDS*/"Instagram User")),g=a.filter(function(a){return!(i||(i=d("I64"))).equal(a[0].contactId,b)}).map(function(a){var b=a[0].nickname;a=a[1];if(b!=null)return b;else{return(b=a==null?void 0:a.name)!=null?b:f}});g.splice(0,0,"you");if(e===0)return;else if(e===1){a=a[0];var j=a[0];a=a[1];a=j.nickname!=null?j.nickname:(j=a==null?void 0:a.name)!=null?j:f}else if(e===2||e===3)a=c("intlList")(g,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA).toString();else{g.splice(2);j=String(e-2).concat(" others");g.push(j);a=c("intlList")(g,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA).toString()}return h._(/*BTDS*/"To {subtitle}",[h._param("subtitle",a.replace("and","&"))])}function r(a,b,c,d,e,f,g){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,j){e=(yield a.tables.contacts.get(e));a=(yield a.tables.threads.get(b));e=e!=null?{mediaPreviewSrc:g,message:h,messageId:f,senderImageSrc:c("getLSMediaContactProfilePictureUrl")(e),senderName:e.name,thread:a,threadKey:(i||(i=d("I64"))).to_string(b),timestampMs:j}:{mediaPreviewSrc:g,message:h,messageId:f,thread:a,threadKey:(i||(i=d("I64"))).to_string(b),timestampMs:j};return e});return s.apply(this,arguments)}g.getMediaPreviewSrc=a;g.generateChatTabNotifPreviewTextForAttachment=e;g.shouldRenderChatTabReactionNotification=f;g.shouldRenderChatTabMessageNotification=o;g.generateChatTabNotifSubtitleTextForGroupMessage=q;g.generateChatTabsPreviewNotification=r}),226);
__d("IGDChatTabMessageNotification.react",["fbt","BaseImage.react","I64","IGDChatTabMessageNotificationUtils","IGDChatTabsEnv","IGDFallbackProfileUrl","IGDSAvatar.react","IGDSBox.react","IGDSTextVariants.react","IGDThreadListNewMessageLoggingDataContext","LSIntEnum","MWPActor.react","MessengerWebUXLogger","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n=60,o={fadeIn:{animationDuration:"xs4xyr0",animationName:"x1rp1485",animationTimingFunction:"x4hg4is",$$css:!0},mediaPreview:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",objectFit:"xl1xv1r",$$css:!0},messageBox:{flexBasis:"x1t1x2f9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0},root:{backgroundColor:"x7r02ix",borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",boxShadow:"x1wp8tw6",zIndex:"x1vjfegm",":hover_backgroundColor":"x2nact",$$css:!0}};function a(a){a=a.previewData;var b=a.mediaPreviewSrc,e=a.message,g=a.senderImageSrc,l=a.senderName,p=a.thread,q=a.threadKey;a=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();a=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"igd_chat_tabs_notification",flowInstanceId:a});var r=(i||(i=c("useReStore")))(),s=d("MWPActor.react").useActor(),t=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(r.tables.participants,["contactId","nickname"]).getKeyRange((j||(j=d("I64"))).of_string(q)),d("ReQL").fromTableAscending(r.tables.contacts,["name"])).take(5)},[r,q],f.id+":98");p=p!=null&&(j||(j=d("I64"))).equal(p.threadType,(k||(k=d("LSIntEnum"))).ofNumber(2))?p.threadName!=null?p.threadName:d("IGDChatTabMessageNotificationUtils").generateChatTabNotifSubtitleTextForGroupMessage(t,s):null;return m.jsx(c("IGDSBox.react"),{containerRef:a,children:m.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",height:d("IGDChatTabsEnv").NOTIFICATION_HEIGHT,overflow:"hidden",width:d("IGDChatTabsEnv").NOTIFICATION_WIDTH,xstyle:[o.root,o.fadeIn],children:[m.jsx(c("IGDSBox.react"),{margin:3,children:m.jsx(c("IGDSAvatar.react"),{alt:h._(/*BTDS*/"Instagram Avatar Profile Picture"),size:"large",src:g!=null?g:d("IGDFallbackProfileUrl").FALLBACK_PROFILE_PIC_URL})}),m.jsxs(c("IGDSBox.react"),{direction:"column",height:"100%",justifyContent:"center",marginEnd:3,overflow:"hidden",paddingY:3,xstyle:o.messageBox,children:[m.jsx(c("IGDSBox.react"),{children:m.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{maxLines:1,textAlign:"start",zeroMargin:!0,children:l!=null?l:h._(/*BTDS*/"Instagram User")})}),p!=null&&p!==""?m.jsx(c("IGDSBox.react"),{marginTop:1,width:"100%",children:m.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{maxLines:1,textAlign:"start",zeroMargin:!0,children:p})}):null,m.jsx(c("IGDSBox.react"),{marginTop:1,width:"100%",children:m.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",maxLines:p!=null?1:2,textAlign:"start",zeroMargin:!0,children:e!=null?e:h._(/*BTDS*/"Sent a message.")})})]}),b!=null&&m.jsx(c("IGDSBox.react"),{padding:4,children:m.jsx(c("BaseImage.react"),{height:n,src:b,width:n,xstyle:o.mediaPreview})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDChatTabMessageNotificationsContainerV1Query.graphql",["IGDChatTabMessageNotificationsContainerV1Query_instagramRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pref_type"}],c=[{kind:"Literal",name:"channel",value:"push"},{kind:"Variable",name:"pref_type",variableName:"pref_type"}],d={alias:null,args:null,kind:"ScalarField",name:"pref_value",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"IGDChatTabMessageNotificationsContainerV1Query",selections:[{alias:null,args:c,concreteType:"XFBFetchUserNotificationPreferenceV1Connection",kind:"LinkedField",name:"xfb_fetch_user_notification_preference_v1",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBITASUserNotificationPreference",kind:"LinkedField",name:"nodes",plural:!0,selections:[d],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"IGDChatTabMessageNotificationsContainerV1Query",selections:[{alias:null,args:c,concreteType:"XFBFetchUserNotificationPreferenceV1Connection",kind:"LinkedField",name:"xfb_fetch_user_notification_preference_v1",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBITASUserNotificationPreference",kind:"LinkedField",name:"nodes",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("IGDChatTabMessageNotificationsContainerV1Query_instagramRelayOperation"),metadata:{},name:"IGDChatTabMessageNotificationsContainerV1Query",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("IGDChatTabMessageNotificationsContainerV2Query.graphql",["IGDChatTabMessageNotificationsContainerV2Query_instagramRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pref_type"}],c=[{kind:"Literal",name:"channel",value:"push"},{kind:"Variable",name:"pref_type",variableName:"pref_type"}],d={alias:null,args:null,kind:"ScalarField",name:"pref_value",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"IGDChatTabMessageNotificationsContainerV2Query",selections:[{alias:null,args:c,concreteType:"XFBFetchUserNotificationPreferenceConnection",kind:"LinkedField",name:"xfb_fetch_user_notification_preference",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBITASUserNotificationPreferenceV2",kind:"LinkedField",name:"nodes",plural:!0,selections:[d],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"IGDChatTabMessageNotificationsContainerV2Query",selections:[{alias:null,args:c,concreteType:"XFBFetchUserNotificationPreferenceConnection",kind:"LinkedField",name:"xfb_fetch_user_notification_preference",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBITASUserNotificationPreferenceV2",kind:"LinkedField",name:"nodes",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("IGDChatTabMessageNotificationsContainerV2Query_instagramRelayOperation"),metadata:{},name:"IGDChatTabMessageNotificationsContainerV2Query",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useAddToNotificationQueue",["I64","IGDChatTabsStateContext.react","bx","qex","react","requireDeferred","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback,k=c("requireDeferred")("Sound").__setRef("useAddToNotificationQueue"),l=5e3,m=c("bx").getURL(c("bx")("32259")),n=c("bx").getURL(c("bx")("32260")),o=c("qex")._("4558")===!0;function a(){var a=d("IGDChatTabsStateContext.react").useIGDChatTabsDispatch();return j(function(b,d){a==null||a({notification:b,type:"push_notification"}),c("setTimeout")(function(){a==null||a({messageId:b.messageId,type:"clear_notification"})},l),o&&d&&p(b)},[a])}function p(a){return k.onReady(function(b){b.play([n,m],(i||(i=d("I64"))).to_float(a.timestampMs),!1)})}g["default"]=a}),98);
__d("useSubscribeToMessages",["I64","IGDChatTabMessageNotificationUtils","IGDChatTabsStateContext.react","LSIntEnum","MWPActor.react","ReQL","asyncToGeneratorRuntime","react","useAddToNotificationQueue","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useCallback;function a(){var a=d("MWPActor.react").useActor(),e=c("useServerTime")(),f=d("IGDChatTabsStateContext.react").useIGDChatTabsState(),g=c("useAddToNotificationQueue")();return k(function(c,h){var k=d("ReQL").fromTableDescending(c.tables.messages.index("timestampMs")).subscribe(function(){var k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,k){if(k.operation!=="add")return;b=k.value;k=(yield d("IGDChatTabMessageNotificationUtils").shouldRenderChatTabMessageNotification(c,b,a,e.valueOf(),f==null?void 0:f.openedTabs));if(k){k=(i||(i=d("I64"))).equal(b.displayedContentTypes,(j||(j=d("LSIntEnum"))).ofNumber(1));var l=k?b.text:yield d("IGDChatTabMessageNotificationUtils").generateChatTabNotifPreviewTextForAttachment(c,b);k=k?null:yield d("IGDChatTabMessageNotificationUtils").getMediaPreviewSrc(c,b);k=(yield d("IGDChatTabMessageNotificationUtils").generateChatTabsPreviewNotification(c,b.threadKey,b.senderId,b.messageId,k,l,b.timestampMs));g(k,h)}});return function(a,b){return k.apply(this,arguments)}}());return k},[a,g,e,f==null?void 0:f.openedTabs])}g["default"]=a}),98);
__d("useSubscribeToReactions",["fbt","IGDChatTabMessageNotificationUtils","IGDChatTabsStateContext.react","MWPActor.react","ReQL","asyncToGeneratorRuntime","react","useAddToNotificationQueue","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useCallback,k=function(a){return h._(/*BTDS*/"Reacted {emoji} to your message",[h._param("emoji",a)])},l=function(){return h._(/*BTDS*/"Liked your message")};function a(){var a=d("MWPActor.react").useActor(),e=c("useServerTime")(),f=d("IGDChatTabsStateContext.react").useIGDChatTabsState(),g=c("useAddToNotificationQueue")();return j(function(c,h){var i=d("ReQL").fromTableDescending(c.tables.reactions.index("fk_messages")).subscribe(function(){var i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,i){if(i.operation!=="add")return;b=i.value;i=(yield c.tables.messages.index("messageId").get(b.messageId));i=(yield d("IGDChatTabMessageNotificationUtils").shouldRenderChatTabReactionNotification(c,a,i,b,e.valueOf(),f==null?void 0:f.openedTabs));if(i){i=b.reaction==="\u2764"?l():k(b.reaction);i=(yield d("IGDChatTabMessageNotificationUtils").generateChatTabsPreviewNotification(c,b.threadKey,b.actorId,b.messageId,null,i,b.timestampMs));g(i,h)}});return function(a,b){return i.apply(this,arguments)}}());return i},[a,g,e,f==null?void 0:f.openedTabs])}g["default"]=a}),226);
__d("useSubscribeToNotifications",["promiseDone","react","useAsyncReStore","useSubscribeToMessages","useSubscribeToReactions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=c("useAsyncReStore")(),d=c("useSubscribeToMessages")(),e=c("useSubscribeToReactions")();i(function(){var e=b.then(function(b){return d(b,a)});return function(){c("promiseDone")(e.then(function(a){a()}))}},[b,d,a]);i(function(){var d=b.then(function(b){return e(b,a)});return function(){c("promiseDone")(d.then(function(a){a()}))}},[b,e,a])}g["default"]=a}),98);
__d("IGDChatTabMessageNotificationsContainer.react",["CometPressable.react","CometRelay","IGDChatTabMessageNotification.react","IGDChatTabMessageNotificationsContainerV1Query.graphql","IGDChatTabMessageNotificationsContainerV2Query.graphql","IGDChatTabSingleContainerStyles","IGDChatTabsEnv","IGDChatTabsJewelStyles","IGDChatTabsQPLInstanceKeyContext.react","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","IGDSBox.react","IGDSThemeConstantsHelpers","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","QuickPerformanceLogger","Random","cr:638","qex","qpl","react","useCometRelayEntrypointContextualEnvironmentProvider","useIGDOpenChatTab.react","usePolarisIsSmallScreen","useSubscribeToNotifications"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useCallback,n={chatTabsClosedRoot:{bottom:"xrsf3xo",$$css:!0},chatTabsOpenRoot:{bottom:"xqxrpsi",$$css:!0},mobileNavRoot:{marginBottom:"xp13qc",$$css:!0},pressableContainer:{borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",$$css:!0},root:{insetInlineEnd:"x145d82y",left:null,right:null,position:"xixxii4",rowGap:"x3pnbk8",zIndex:"x1vjfegm",$$css:!0}},o=3,p=d("IGDSThemeConstantsHelpers").getNumericValue("revamp-nav-bottom-toolbar-height"),q=1,r=h!==void 0?h:h=b("IGDChatTabMessageNotificationsContainerV1Query.graphql"),s=i!==void 0?i:i=b("IGDChatTabMessageNotificationsContainerV2Query.graphql");function a(a){a=a.queries.messageNotifsQueryRef;var e=c("qex")._("273");a=d("CometRelay").usePreloadedQuery(e===!0?s:r,a);a=e===!0?(e=a.xfb_fetch_user_notification_preference)==null?void 0:e.nodes[0]:(e=a.xfb_fetch_user_notification_preference_v1)==null?void 0:e.nodes[0];e=(a==null?void 0:a.pref_value)!==q;var f=d("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),g=d("IGDChatTabsStateContext.react").useIGDChatTabsState(),h=c("usePolarisIsSmallScreen")(),i=g==null?void 0:g.notifications;g=(g==null?void 0:g.activeView)!=null;c("useSubscribeToNotifications")(e);var k=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),t=d("IGDChatTabsQPLInstanceKeyContext.react").useIGDChatTabsQPLInstanceKeyContext(),u=c("MessengerWebUXLogger").useInteractionLogger(),v=g?d("IGDChatTabsStateTypes").IGDChatTabsMessagingInitiationSource.NotificationWithTabOpen:d("IGDChatTabsStateTypes").IGDChatTabsMessagingInitiationSource.NotificationWithJewel,w=c("useIGDOpenChatTab.react")(),x=m(function(a){w(a.threadKey,v);f==null||f({messageId:a.messageId,type:"clear_notification"});u==null||u({eventName:"igd_chat_tabs_notification_clicked",flowInstanceId:k});var b=t.threadViewKeys[a.threadKey]==null,e=d("Random").uint32();t.setThreadViewKey(a.threadKey,e);(j||(j=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(882771792,"2790"),e);j.markerAnnotate(c("qpl")._(882771792,"2790"),{bool:{isFirstLoad:b},string:{trigger:"notification"}},{instanceKey:e})},[f,k,v,u,w,t]);e=(e=(e=document.documentElement)==null?void 0:e.clientHeight)!=null?e:0;var y=(g?d("IGDChatTabsEnv").CHAT_TAB_HEIGHT+d("IGDChatTabSingleContainerStyles").CHAT_TAB_CONTAINER_MARGIN:d("IGDChatTabsJewelStyles").JEWEL_SIZE+d("IGDChatTabsJewelStyles").JEWEL_MARGIN)+(h?p:0);e=Math.min(Math.floor((e-y)/(d("IGDChatTabsEnv").NOTIFICATION_HEIGHT+d("IGDChatTabsEnv").NOTIFICATION_ROW_GAP)),o);var z=c("useCometRelayEntrypointContextualEnvironmentProvider")(),A=m(function(a){b("cr:638")==null||b("cr:638")(z,a)},[z]);return c("qex")._("4558")===!0&&(a==null?void 0:a.pref_value)===q||i==null||i.size===0||e===0?null:l.jsx(c("IGDSBox.react"),{direction:"columnReverse",xstyle:[n.root,h&&n.mobileNavRoot,g?n.chatTabsOpenRoot:n.chatTabsClosedRoot],children:Array.from(i.values()).slice(-e).map(function(a,b){return l.jsx(c("CometPressable.react"),{expanding:!0,onHoverIn:function(){return A(a.threadKey)},onPress:function(){x(a)},role:"button",xstyle:n.pressableContainer,children:l.jsx(c("IGDChatTabMessageNotification.react"),{previewData:a})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);