;/*FB_PKG_DELIM*/

__d("IGDExternalShareBarConstants",[],(function(a,b,c,d,e,f){"use strict";a=1;b=68;f.IGDExternalShareBarPaddingX=a;f.IGDExternalShareItemWidthPx=b}),66);
__d("IGDExternalShareItem.react",["invariant","CometPressable.react","IGDExternalShareBarConstants","IGDSBox.react","IGDSTextVariants.react","PolarisContainerModuleUtils","PolarisIGTheme.react","PolarisUA","emptyFunction","react","react-compiler-runtime","requireDeferred","usePolarisAnalyticsContext","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;var k=c("requireDeferred")("ExternalShareOptionImpressionFalcoEvent").__setRef("IGDExternalShareItem.react"),l=c("requireDeferred")("ExternalShareOptionTappedFalcoEvent").__setRef("IGDExternalShareItem.react"),m=c("requireDeferred")("ExternalShareSucceededFalcoEvent").__setRef("IGDExternalShareItem.react"),n={4:{paddingInlineEnd:"x11lfxj5",paddingInlineStart:"x135b78x",$$css:!0},5:{paddingInlineEnd:"x1gabggj",paddingInlineStart:"xaso8d8",$$css:!0},6:{paddingInlineEnd:"x1icxu4v",paddingInlineStart:"x25sj25",$$css:!0},7:{paddingInlineEnd:"x1bjonze",paddingInlineStart:"x1pixwil",$$css:!0},8:{paddingInlineEnd:"xf159sx",paddingInlineStart:"xmzvs34",$$css:!0},9:{paddingInlineEnd:"xrw5ot4",paddingInlineStart:"x7coems",$$css:!0},10:{paddingInlineEnd:"x2vl965",paddingInlineStart:"xe2zdcy",$$css:!0},11:{paddingInlineEnd:"x1kukv79",paddingInlineStart:"x1iwz3mf",$$css:!0},12:{paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",$$css:!0}},o=4,p=4;function q(){var a=.33,b=window.innerWidth;if(!d("PolarisUA").isMobile())return p;var c=d("IGDExternalShareBarConstants").IGDExternalShareBarPaddingX*o;b=b-c;c=Math.round(b/(d("IGDExternalShareBarConstants").IGDExternalShareItemWidthPx+p*2));b=b/(c-a);c=Math.ceil((b-d("IGDExternalShareBarConstants").IGDExternalShareItemWidthPx)/2);switch(c){case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:return c;default:return p}}function a(a){var b=d("react-compiler-runtime").c(28),e=a.icon,f=a.label,g=a.logData,i=a.onClick;a=a.url;var o=i===void 0?c("emptyFunction"):i;a===void 0||o===c("emptyFunction")||h(0,51420);var p=c("usePolarisAnalyticsContext")();b[0]!==p||b[1]!==g?(i=function(){g!=null&&k.onReady(function(a){return a.log(function(){return{media_author_id:g.media_author_id,media_id:g.media_id,module:d("PolarisContainerModuleUtils").getContainerModule(p),share_option:g.share_option}})})},b[0]=p,b[1]=g,b[2]=i):i=b[2];i=i;var r;b[3]!==i?(r={onImpressionStart:i},b[3]=i,b[4]=r):r=b[4];i=c("useSinglePartialViewImpression")(r);b[5]!==p||b[6]!==g?(r=function(){g!=null&&(l.onReady(function(a){return a.log(function(){return babelHelpers["extends"]({module:d("PolarisContainerModuleUtils").getContainerModule(p)},g)})}),m.onReady(function(a){return a.log(function(){return babelHelpers["extends"]({module:d("PolarisContainerModuleUtils").getContainerModule(p)},g)})}))},b[5]=p,b[6]=g,b[7]=r):r=b[7];var s=r;b[8]!==a?(r=a!=null?{target:"_blank",url:a}:void 0,b[8]=a,b[9]=r):r=b[9];b[10]!==s||b[11]!==o?(a=function(){o(),s()},b[10]=s,b[11]=o,b[12]=a):a=b[12];var t;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(t={opacity:.5},b[13]=t):t=b[13];var u;b[14]!==e?(u=j.jsx(c("IGDSBox.react"),{alignItems:"center",color:d("PolarisIGTheme.react").isDarkMode()?"secondaryBackground":"highlightBackground",height:52,justifyContent:"center",shape:"circle",width:52,children:e}),b[14]=e,b[15]=u):u=b[15];b[16]!==f?(e=j.jsx(c("IGDSBox.react"),{marginTop:2,children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{maxLines:2,textAlign:"center",children:f})}),b[16]=f,b[17]=e):e=b[17];b[18]!==e||b[19]!==u?(f=j.jsxs(c("IGDSBox.react"),{alignItems:"center",height:104,paddingY:2,width:d("IGDExternalShareBarConstants").IGDExternalShareItemWidthPx+q()*2,xstyle:n[q()],children:[u,e]}),b[18]=e,b[19]=u,b[20]=f):f=b[20];b[21]!==f||b[22]!==r||b[23]!==a?(e=j.jsx(c("CometPressable.react"),{linkProps:r,onPress:a,overlayDisabled:!0,pressedStyleValue:t,children:f}),b[21]=f,b[22]=r,b[23]=a,b[24]=e):e=b[24];b[25]!==i||b[26]!==e?(u=j.jsx(c("IGDSBox.react"),{alignItems:"center",containerRef:i,shape:"rounded",children:e}),b[25]=i,b[26]=e,b[27]=u):u=b[27];return u}g["default"]=a}),98);
__d("IGDSAppXPanoOutline24.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({"data-name":"Icons",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"m21.8 20.4-7.28-9.706 6.323-7.025a1 1 0 0 0-1.487-1.338l-6.058 6.733L8.3 2.4a.999.999 0 0 0-.8-.4H3a1 1 0 0 0-.8 1.6l7.28 9.706-6.323 7.025a1 1 0 0 0 1.487 1.338l6.058-6.733L15.7 21.6c.189.252.486.4.8.4H21a1 1 0 0 0 .8-1.6zM17 20 5 4h2l12 16h-2z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("IGDExternalShareBar.react",["fbt","IGDExternalShareBarConstants","IGDExternalShareItem.react","IGDSAppImessagePanoOutlineIcon.react","IGDSAppMessengerOutlineIcon.react","IGDSAppXPanoOutline24.svg.react","IGDSBarcelonaLogoIcon.react","IGDSBox.react","IGDSFacebookCircleOutlineIcon.react","IGDSForwardOutlineIcon.react","IGDSLinkOutlineIcon.react","IGDSMailOutlineIcon.react","IGDSSmsPanoOutlineIcon.react","IGDSWhatsappLogoOutlineIcon.react","PolarisHScrollContainer.react","PolarisPagerButton.react","PolarisPostShareStrings","PolarisPostShareUtils","PolarisShareHelpers","PolarisThirdPartyPlatformType","PolarisUA","polarisGetAppPlatform","polarisLogAction","promiseDone","react","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisCopyLinkDialog","usePolarisIgshHelpers"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=20;function l(a){var b,e=d("react-compiler-runtime").c(14),f=a.post,g=a.url,h=d("usePolarisCopyLinkDialog").usePolarisCopyLinkDialog(null,f);e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("IGDSLinkOutlineIcon.react"),{alt:d("PolarisPostShareStrings").COPY_LINK,size:k}),e[0]=a):a=e[0];b=(b=f.owner)==null?void 0:b.id;var i=f.id,l=f.loggingInfoToken,m;e[1]!==f?(m=d("PolarisPostShareUtils").getShareURL(f),e[1]=f,e[2]=m):m=e[2];e[3]!==f.id||e[4]!==f.loggingInfoToken||e[5]!==b||e[6]!==m?(i={media_author_id:b,media_id:i,ranking_info_token:l,share_option:"copy_link",url:m},e[3]=f.id,e[4]=f.loggingInfoToken,e[5]=b,e[6]=m,e[7]=i):i=e[7];e[8]!==h||e[9]!==g?(l=function(){return d("usePolarisIgshHelpers").shouldAppendIgshDesktop()?h(g):h()},e[8]=h,e[9]=g,e[10]=l):l=e[10];e[11]!==i||e[12]!==l?(f=j.jsx(c("IGDExternalShareItem.react"),{icon:a,label:d("PolarisPostShareStrings").COPY_LINK,logData:i,onClick:l}),e[11]=i,e[12]=l,e[13]=f):f=e[13];return f}function m(a){var b,e=d("react-compiler-runtime").c(12),f=a.post;a=a.url;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Facebook"),e[0]=g):g=e[0];g=g;var i;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("IGDSFacebookCircleOutlineIcon.react"),{alt:g,size:k}),e[1]=i):i=e[1];b=(b=f.owner)==null?void 0:b.id;var l;e[2]!==f.id||e[3]!==f.loggingInfoToken||e[4]!==b||e[5]!==a?(l={media_author_id:b,media_id:f.id,ranking_info_token:f.loggingInfoToken,share_option:"facebook",url:a},e[2]=f.id,e[3]=f.loggingInfoToken,e[4]=b,e[5]=a,e[6]=l):l=e[6];e[7]!==a?(f=d("PolarisShareHelpers").getShareToFBURL(a),e[7]=a,e[8]=f):f=e[8];e[9]!==l||e[10]!==f?(b=j.jsx(c("IGDExternalShareItem.react"),{icon:i,label:g,logData:l,url:f}),e[9]=l,e[10]=f,e[11]=b):b=e[11];return b}function n(a){var b,e=d("react-compiler-runtime").c(12),f=a.post;a=a.url;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Messenger"),e[0]=g):g=e[0];g=g;var i;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("IGDSAppMessengerOutlineIcon.react"),{alt:g,size:k}),e[1]=i):i=e[1];b=(b=f.owner)==null?void 0:b.id;var l;e[2]!==f.id||e[3]!==f.loggingInfoToken||e[4]!==b||e[5]!==a?(l={media_author_id:b,media_id:f.id,ranking_info_token:f.loggingInfoToken,share_option:"messenger",url:a},e[2]=f.id,e[3]=f.loggingInfoToken,e[4]=b,e[5]=a,e[6]=l):l=e[6];e[7]!==a?(f=d("PolarisShareHelpers").getShareToMessengerURL(a),e[7]=a,e[8]=f):f=e[8];e[9]!==l||e[10]!==f?(b=j.jsx(c("IGDExternalShareItem.react"),{icon:i,label:g,logData:l,url:f}),e[9]=l,e[10]=f,e[11]=b):b=e[11];return b}function o(a){var b,e=d("react-compiler-runtime").c(13),f=a.description,g=a.post;a=a.url;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Threads"),e[0]=i):i=e[0];i=i;var l;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(l=j.jsx(c("IGDSBarcelonaLogoIcon.react"),{alt:i,size:k}),e[1]=l):l=e[1];b=(b=g.owner)==null?void 0:b.id;var m;e[2]!==g.id||e[3]!==g.loggingInfoToken||e[4]!==b||e[5]!==a?(m={media_author_id:b,media_id:g.id,ranking_info_token:g.loggingInfoToken,share_option:"barcelona",url:a},e[2]=g.id,e[3]=g.loggingInfoToken,e[4]=b,e[5]=a,e[6]=m):m=e[6];e[7]!==f||e[8]!==a?(g=d("PolarisShareHelpers").getShareToThreadsURL(a,f),e[7]=f,e[8]=a,e[9]=g):g=e[9];e[10]!==m||e[11]!==g?(b=j.jsx(c("IGDExternalShareItem.react"),{icon:l,label:i,logData:m,url:g}),e[10]=m,e[11]=g,e[12]=b):b=e[12];return b}function p(a){var b,e=d("react-compiler-runtime").c(13),f=a.description,g=a.post;a=a.url;var i,k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("IGDSAppXPanoOutline24.svg.react"),{className:"x1qx5ct2 xw4jnvo",color:"rgb(var(--ig-primary-text))"}),k=h._(/*BTDS*/"X"),e[0]=i,e[1]=k):(i=e[0],k=e[1]);b=(b=g.owner)==null?void 0:b.id;var l;e[2]!==g.id||e[3]!==g.loggingInfoToken||e[4]!==b||e[5]!==a?(l={media_author_id:b,media_id:g.id,ranking_info_token:g.loggingInfoToken,share_option:"twitter",url:a},e[2]=g.id,e[3]=g.loggingInfoToken,e[4]=b,e[5]=a,e[6]=l):l=e[6];e[7]!==f||e[8]!==a?(g=d("PolarisShareHelpers").getShareToTwitterURL(a,f),e[7]=f,e[8]=a,e[9]=g):g=e[9];e[10]!==l||e[11]!==g?(b=j.jsx(c("IGDExternalShareItem.react"),{icon:i,label:k,logData:l,url:g}),e[10]=l,e[11]=g,e[12]=b):b=e[12];return b}function q(a){var b,e=d("react-compiler-runtime").c(13),f=a.description,g=a.post;a=a.url;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"WhatsApp"),e[0]=i):i=e[0];i=i;var l;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(l=j.jsx(c("IGDSWhatsappLogoOutlineIcon.react"),{alt:i,size:k}),e[1]=l):l=e[1];b=(b=g.owner)==null?void 0:b.id;var m;e[2]!==g.id||e[3]!==g.loggingInfoToken||e[4]!==b||e[5]!==a?(m={media_author_id:b,media_id:g.id,ranking_info_token:g.loggingInfoToken,share_option:"whatsapp",url:a},e[2]=g.id,e[3]=g.loggingInfoToken,e[4]=b,e[5]=a,e[6]=m):m=e[6];e[7]!==f||e[8]!==a?(g=d("PolarisShareHelpers").getShareToWhatsAppURL(a,f),e[7]=f,e[8]=a,e[9]=g):g=e[9];e[10]!==m||e[11]!==g?(b=j.jsx(c("IGDExternalShareItem.react"),{icon:l,label:i,logData:m,url:g}),e[10]=m,e[11]=g,e[12]=b):b=e[12];return b}function r(a){var b=d("react-compiler-runtime").c(16),e=a.post;a=a.url;var f;b[0]!==a?(f=d("PolarisShareHelpers").getShareToSMSURL(a),b[0]=a,b[1]=f):f=b[1];var g=f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"iMessage"),b[2]=f):f=b[2];f=f;var i;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"SMS"),b[3]=i):i=b[3];i=i;var l;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("polarisGetAppPlatform").isIOS()?j.jsx(c("IGDSAppImessagePanoOutlineIcon.react"),{alt:f,size:k}):j.jsx(c("IGDSSmsPanoOutlineIcon.react"),{alt:i,size:k}),f=d("polarisGetAppPlatform").isIOS()?f:i,b[4]=l,b[5]=f):(l=b[4],f=b[5]);i=(i=e.owner)==null?void 0:i.id;var m;b[6]!==e.id||b[7]!==e.loggingInfoToken||b[8]!==i||b[9]!==a?(m={media_author_id:i,media_id:e.id,ranking_info_token:e.loggingInfoToken,share_option:d("polarisGetAppPlatform").isIOS()?"imessage":"SMS",url:a},b[6]=e.id,b[7]=e.loggingInfoToken,b[8]=i,b[9]=a,b[10]=m):m=b[10];b[11]!==g?(e=d("polarisGetAppPlatform").isAndroid()?{onClick:function(){return window.open(g,"_top")}}:{url:g},b[11]=g,b[12]=e):e=b[12];b[13]!==m||b[14]!==e?(i=j.jsx(c("IGDExternalShareItem.react"),babelHelpers["extends"]({icon:l,label:f,logData:m},e)),b[13]=m,b[14]=e,b[15]=i):i=b[15];return i}function s(a){var b,e=d("react-compiler-runtime").c(13),f=a.description,g=a.post;a=a.url;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Email"),e[0]=i):i=e[0];i=i;var l;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(l=j.jsx(c("IGDSMailOutlineIcon.react"),{alt:i,size:k}),e[1]=l):l=e[1];b=(b=g.owner)==null?void 0:b.id;var m;e[2]!==g.id||e[3]!==g.loggingInfoToken||e[4]!==b||e[5]!==a?(m={media_author_id:b,media_id:g.id,ranking_info_token:g.loggingInfoToken,share_option:"email",url:a},e[2]=g.id,e[3]=g.loggingInfoToken,e[4]=b,e[5]=a,e[6]=m):m=e[6];e[7]!==f||e[8]!==a?(g=d("PolarisShareHelpers").getShareToEmailURL(a,f),e[7]=f,e[8]=a,e[9]=g):g=e[9];e[10]!==m||e[11]!==g?(b=j.jsx(c("IGDExternalShareItem.react"),{icon:l,label:i,logData:m,url:g}),e[10]=m,e[11]=g,e[12]=b):b=e[12];return b}function t(a){var b,e=d("react-compiler-runtime").c(17),f=a.description,g=a.post,i=a.url,l=c("usePolarisAnalyticsContext")(),m=g.isVideo===!0?"video":g.isSidecar===!0?"sidecar":"photo";e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=d("usePolarisIgshHelpers").shouldAppendIgshDesktop(),e[0]=a):a=e[0];var n=a;e[1]!==l||e[2]!==f||e[3]!==g||e[4]!==m||e[5]!==i?(a=function(){c("polarisLogAction")("nativeShareClick",{source:l,type:m}),c("promiseDone")(d("PolarisShareHelpers").shareWithNative(f,d("PolarisPostShareUtils").getShareURL(g),"ig_web_button_native_share",n?d("PolarisShareHelpers").getIgshFromShareUrl(i):""))},e[1]=l,e[2]=f,e[3]=g,e[4]=m,e[5]=i,e[6]=a):a=e[6];a=a;var o;e[7]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"See all"),e[7]=o):o=e[7];o=o;if(e[8]!==g.id||e[9]!==g.loggingInfoToken||e[10]!==((b=g.owner)==null?void 0:b.id)||e[11]!==i){var p;b=n?{media_author_id:(b=g.owner)==null?void 0:b.id,media_id:g.id,ranking_info_token:g.loggingInfoToken,share_option:"native_share",url:i}:void 0;e[8]=g.id;e[9]=g.loggingInfoToken;e[10]=(p=g.owner)==null?void 0:p.id;e[11]=i;e[12]=b}else b=e[12];p=b;e[13]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSForwardOutlineIcon.react"),{alt:o,size:k}),e[13]=b):b=e[13];e[14]!==a||e[15]!==p?(b=j.jsx(c("IGDExternalShareItem.react"),{icon:b,label:o,logData:p,onClick:a}),e[14]=a,e[15]=p,e[16]=b):b=e[16];return b}function a(a){var b,e=d("react-compiler-runtime").c(61),f=a.post;a=a.xstyle;var g=f.shareUrls;if(e[0]!==((b=f.owner)==null?void 0:b.username)||e[1]!==f.productType){var h;b=((b=f.owner)==null?void 0:b.username)!=null?d("PolarisShareHelpers").getShareDescription((b=f.owner)==null?void 0:b.username,(b=f.productType)!=null?b:"photo"):null;e[0]=(h=f.owner)==null?void 0:h.username;e[1]=f.productType;e[2]=b}else b=e[2];h=b;b=g!=null?g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.COPY_LINK]:"";var i;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=d("PolarisUA").isMobile(),e[3]=i):i=e[3];var k;e[4]!==b||e[5]!==f?(k=j.jsx(l,{post:f,url:b}),e[4]=b,e[5]=f,e[6]=k):k=e[6];var u;e[7]!==f||e[8]!==h||e[9]!==g?(u=g!=null&&h!=null&&d("PolarisUA").isMobile()&&j.jsx(q,{description:h,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.WHATSAPP]}),e[7]=f,e[8]=h,e[9]=g,e[10]=u):u=e[10];var v;e[11]!==f||e[12]!==g?(v=g!=null&&!d("PolarisUA").isMobile()&&j.jsx(m,{post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.FACEBOOK]}),e[11]=f,e[12]=g,e[13]=v):v=e[13];var w;e[14]!==f||e[15]!==g?(w=g!=null&&j.jsx(n,{post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.MESSENGER]}),e[14]=f,e[15]=g,e[16]=w):w=e[16];var x;e[17]!==f||e[18]!==g?(x=g!=null&&d("PolarisUA").isMobile()&&j.jsx(m,{post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.FACEBOOK]}),e[17]=f,e[18]=g,e[19]=x):x=e[19];var y;e[20]!==f||e[21]!==h||e[22]!==g?(y=g!=null&&h!=null&&!d("PolarisUA").isMobile()&&j.jsx(q,{description:h,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.WHATSAPP]}),e[20]=f,e[21]=h,e[22]=g,e[23]=y):y=e[23];var z;e[24]!==f||e[25]!==g?(z=g!=null&&d("PolarisUA").isMobile()&&j.jsx(r,{post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.USER_SMS]}),e[24]=f,e[25]=g,e[26]=z):z=e[26];var A;e[27]!==f||e[28]!==h||e[29]!==g?(A=d("PolarisUA").isMobile()&&g!=null&&h!=null&&j.jsx(o,{description:h,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.THREADS]}),e[27]=f,e[28]=h,e[29]=g,e[30]=A):A=e[30];var B;e[31]!==f||e[32]!==h||e[33]!==g?(B=g!=null&&h!=null&&j.jsx(s,{description:h,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.EMAIL]}),e[31]=f,e[32]=h,e[33]=g,e[34]=B):B=e[34];var C;e[35]!==f||e[36]!==h||e[37]!==g?(C=!d("PolarisUA").isMobile()&&g!=null&&h!=null&&j.jsx(o,{description:h,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.THREADS]}),e[35]=f,e[36]=h,e[37]=g,e[38]=C):C=e[38];var D;e[39]!==f||e[40]!==h||e[41]!==g?(D=g!=null&&h!=null&&j.jsx(p,{description:h,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.TWITTER]}),e[39]=f,e[40]=h,e[41]=g,e[42]=D):D=e[42];e[43]!==b||e[44]!==f||e[45]!==h?(g=h!=null&&d("PolarisShareHelpers").hasNativeShare()&&j.jsx(t,{description:h,post:f,url:b}),e[43]=b,e[44]=f,e[45]=h,e[46]=g):g=e[46];e[47]!==A||e[48]!==B||e[49]!==C||e[50]!==D||e[51]!==g||e[52]!==k||e[53]!==u||e[54]!==v||e[55]!==w||e[56]!==x||e[57]!==y||e[58]!==z||e[59]!==a?(b=j.jsx(c("PolarisHScrollContainer.react"),{disablePagerButtons:i,pagerVariant:d("PolarisPagerButton.react").PAGER_BUTTON_VARIANTS.supershare,children:j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",margin:"auto",paddingX:d("IGDExternalShareBarConstants").IGDExternalShareBarPaddingX,xstyle:a,children:[k,u,v,w,x,y,z,A,B,C,D,g]})}),e[47]=A,e[48]=B,e[49]=C,e[50]=D,e[51]=g,e[52]=k,e[53]=u,e[54]=v,e[55]=w,e[56]=x,e[57]=y,e[58]=z,e[59]=a,e[60]=b):b=e[60];return b}g["default"]=a}),226);
__d("IGDSecureShareSheetS2SInstanceKeyContextProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useRef,l=e(new Map());function a(a){a=a.children;var b=k(new Map());return i.jsx(l.Provider,{value:b.current,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(l)}g.IGDSecureShareSheetS2SInstanceKeyContextProvider=a;g.useIGDSecureShareSheetS2SInstanceKeyContext=b}),98);
__d("PolarisDirectActionLoadThread",["PolarisDirectAPI","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisPerformanceLogger","PolarisToastActions","QuickPerformanceLogger","polarisDirectSelectors","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return function(e,f){var g=d("PolarisPerformanceLogger").getInstanceKeyFromId(a);(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(35586051,"152"),g);var i=d("polarisDirectSelectors").getThreadExitCounter(f(),a);return d("PolarisDirectAPI").getThread(a,b).then(function(b){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(35586051,"152"),2,g),i===d("polarisDirectSelectors").getThreadExitCounter(f(),a)&&e(d("PolarisDirectActionThreadLoaded").threadLoaded(b.thread))},function(a){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(35586051,"152"),3,g),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_load_thread_failed",a),e(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})}}g.loadThread=a}),98);
__d("PolarisDirectActionCreateDirectInboxLoaded",["polarisNormalizeDirectThreads"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=a.inbox;var d=a.has_older,e=a.oldest_cursor;a=a.threads;a=c("polarisNormalizeDirectThreads")(a);return babelHelpers["extends"]({at:Date.now(),inboxPagination:{hasOlder:d,isLoading:!1,oldestCursor:e},messages:a.entities.items,threads:a.entities.threads,type:"DIRECT_INBOX_LOADED",users:a.entities.users},b)}g.createDirectInboxLoaded=a}),98);
__d("PolarisDirectActionCreatePendingThreadsLoaded",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){return{messages:a,pagination:d,threads:b,type:"DIRECT_INBOX_PENDING_THREADS_LOADED",users:c}}f.createPendingThreadsLoaded=a}),66);
__d("PolarisDirectActionRefreshPendingInbox",["PolarisDirectAPI","PolarisDirectActionCreatePendingThreadsLoaded","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisToastActions","polarisDirectSelectors","polarisNormalizeDirectThreads"],(function(a,b,c,d,e,f,g){"use strict";function a(){return function(a,b){b=d("polarisDirectSelectors").getPendingRequestsPagination(b());return d("PolarisDirectAPI").getPendingInbox({cursor:b==null?void 0:b.oldestCursor}).then(function(b){var e=c("polarisNormalizeDirectThreads")(b.inbox.threads);e=e.entities;var f=e.items,g=e.threads;e=e.users;b=b.inbox;var h=b.has_older;b=b.oldest_cursor;a(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded(f,g,e,{hasOlder:h,oldestCursor:b}))},function(b){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_refresh_pending_inbox_failed",b),a(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE})),a(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded({},{},{},null))})}}g.refreshPendingInbox=a}),98);
__d("PolarisDirectActionLoadInbox",["PolarisConfig","PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionCreateDirectInboxLoaded","PolarisDirectActionRefreshPendingInbox","PolarisDirectActionsLogger","PolarisDirectLogger","PolarisDirectStrings","PolarisGenericStrings","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){a===void 0&&(a=d("PolarisDirectActionConstants").loadInboxDefaults);return function(b,e){(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(35586049,"4342"));b({type:"DIRECT_INBOX_LOADING"});return d("PolarisDirectAPI").getInbox("inbox_snapshot",{folder:a.folder,limit:d("PolarisDirectActionConstants").DIRECT_MSYS_INBOX_SNAPSHOT_LIMIT,thread_message_limit:d("PolarisDirectActionConstants").DIRECT_INBOX_THREAD_MESSAGE_LIMIT}).then(function(f){String(f.viewer.pk)!==d("PolarisConfig").getViewerId()&&window.location.reload();(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(35586049,"4342"),2);var g=f.pending_requests_total;g>0&&b(d("PolarisDirectActionRefreshPendingInbox").refreshPendingInbox());var i=e();i=i.direct;i=i==null?void 0:i.seqId;var j=f.seq_id,k=!0;i!=null&&i>j&&(d("PolarisDirectActionsLogger").directActionsLogger.logError("seq_id_decrease_on_inbox_load",{"new":j,old:i}),k=a.forceSeqIdUpdate);k&&d("PolarisDirectLogger").DirectLogger.debugTrace("seq_id_updated",j);b(d("PolarisDirectActionCreateDirectInboxLoaded").createDirectInboxLoaded(f,{pendingRequestsTotal:g,seqId:k?j:void 0}))},function(e){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(35586049,"4342"),3),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_inbox_load_failed",e),b({toast:{actionHandler:function(){b(i(a))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisDirectStrings").INBOX_LOAD_ERROR},type:"DIRECT_INBOX_LOAD_FAILED"})})}}g.loadInbox=i}),98);
__d("PolarisDirectActionReloadInbox",["PolarisConfig","PolarisDirectActionConstants","PolarisDirectActionLoadInbox","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=d("PolarisDirectActionConstants").loadInboxDefaults);return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b({type:"DIRECT_CLEAR",viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())});return yield b(d("PolarisDirectActionLoadInbox").loadInbox(a))});return function(a){return e.apply(this,arguments)}}()}g.reloadInbox=a}),98);
__d("PolarisDirectActionConnectToMqtt",["PolarisConfig","PolarisDirectAPI","PolarisDirectActionLoadThread","PolarisDirectActionReloadInbox","PolarisDirectConstants","PolarisDirectDeltaHandlers","PolarisDirectLogger","PolarisDirectMQTTInstance","PolarisIncomingCallActions","PolarisRoutes","asyncToGeneratorRuntime","browserHistory_DO_NOT_USE","nullthrows","polarisNormalizeDirectItems","polarisNormalizeDirectThreads","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function h(a,e){e===void 0&&(e=!1);var f=c("uuidv4")();f=f.substring(f.lastIndexOf("-")+1);var g=new(d("PolarisDirectLogger").DirectLogger)("DirectActions",f);g.debugTrace("start",{forceReconnect:e,newSubscriptionType:a});return function(j,k){var l=k();l=l.direct;var m=l.realtimeState,n=m.mqttConnectivity;m=m.subscriptionType;g.debugTrace("internal",{currentSubscriptionType:m,forceReconnect:e,newSubscriptionType:a});if(!e&&n==="Connected"&&m===a){g.debugTrace("noop");return}var o=function(a,b,e,f){var g;f=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(f===null)return;a=d("polarisNormalizeDirectItems").normalizeDirectItems([f]);j({message:a.entities.items[f.item_id],mutationToken:b,threadId:e,type:"DIRECT_MESSAGE_UPDATED",users:a.entities.users,viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())});((g=f.replied_to_message)==null?void 0:g.item_id)!=null&&j({message:a.entities.items[f.replied_to_message.item_id],mutationToken:b,threadId:e,type:"DIRECT_MESSAGE_UPDATED",users:a.entities.users,viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())})},p=function(a,b,c,e,f,g,h){var i=k().direct.threads.get(b);i?j({emoji:f,itemId:c,likeAction:a,superReactType:g,timestamp:h,type:"DIRECT_MESSAGE_REACTION_UPDATED",userId:e}):j(d("PolarisDirectActionLoadThread").loadThread(b,{limit:1}))},q=function(a,b,c){j({senderId:c,threadId:b,timestamp:a,type:"DIRECT_TYPING_INDICATOR_STOPPED"})},r=function(a,b,c,e,f,g,h){a===5&&j(d("PolarisIncomingCallActions").ackCall())},s=l.seqId,t=Date.now();a==="message"&&l.snapshotAt!=null&&(t=l.snapshotAt);var u={onHasSeen:function(a,b,c,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;a=b.item_id;b=b.timestamp;j({messageId:a,threadId:c,timestamp:b,type:"DIRECT_SEEN_STATE_UPDATED",userId:e})},onIndicateTypingActivity:function(a,b,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;a=b.activity_status;var f=b.sender_id;b=b.timestamp;f=c("nullthrows")(f);a=c("nullthrows")(a);g.debugTrace("indicate_typing_activity",{senderId:f,typingStatus:a});a===d("PolarisDirectConstants").TypingStatus.OFF&&q(b,e,f)},onIrisConnectivityChanged:function(a,b){g.debugTrace("iris_connectivity",{newConnectivity:a,newType:b}),j({irisConnectivity:a,subscriptionType:b,type:"DIRECT_IRIS_CONNECTIVITY_CHANGED"})},onMakeAdmin:function(a,b,c,d){j({adminUserId:d,threadId:c,type:"DIRECT_THREAD_ADMIN_ADDED"})},onMqttConnectivityChanged:function(a){g.debugTrace("mqtt_connectivity",a),j({mqttConnectivity:a,type:"DIRECT_MQTT_CONNECTIVITY_CHANGED"})},onNewMessage:function(a,b,c,e){var f=k().direct.threads.get(c);if(f){o(a,b,c,e);f=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(f===null)return;b=d("polarisNormalizeDirectItems").normalizeDirectItems([f]);q(f.timestamp,c,b.entities.items[f.item_id].user_id)}else j(d("PolarisDirectActionLoadThread").loadThread(c,{limit:1}))},onNewThread:function(a,b,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;e=c("polarisNormalizeDirectThreads")([b]);j({messages:e.entities.items,threads:e.entities.threads,type:"DIRECT_THREAD_LOADED",users:e.entities.users})},onRemoveAdmin:function(a,b,c,d){j({adminUserId:d,threadId:c,type:"DIRECT_THREAD_ADMIN_REMOVED"})},onRemoveEmoji:function(a,b,c,e,f){p(d("PolarisDirectConstants").LikeAction.DELETED,c,e,f)},onRemoveMessage:function(a,b,c,d){j({itemId:d,threadId:c,type:"DIRECT_MESSAGE_REMOVED"})},onRemoveThread:function(a,b,c){window.location.href.indexOf("/t/"+c)!==-1&&d("browserHistory_DO_NOT_USE").browserHistory.push(d("PolarisRoutes").DIRECT_INBOX),j({threadId:c,type:"DIRECT_REMOVE_THREAD"})},onResnapshotRequested:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.seq_id,c=a.subscription_type;g.logDirectEvent("resnapshot_requested",{seq_id:b,subscription_type:c});yield j(d("PolarisDirectActionReloadInbox").reloadInbox({forceSeqIdUpdate:!0}));var e=k();e=e.direct.seqId;g.debugTrace("resnapshot_done",{newSeqId:e});e!==b?(g.logDirectEvent("reconnect_after_resnapshot",{newSeqId:e}),j(h(c,!0))):g.logError("seq_id_not_updated_after_resnapshot",babelHelpers["extends"]({"new":e,old:b},a))});function c(b){return a.apply(this,arguments)}return c}(),onSeqIdUpdated:function(a){s!=null&&s>a?g.logError("seq_id_decrease",{"new":a,old:s}):(g.debugTrace("seq_id_updated",a),j({seqId:a,type:"DIRECT_SEQ_ID_UPDATED"}))},onUnseenCountChange:function(a){a=d("PolarisDirectDeltaHandlers").parseDeltaNumber(a);j({count:a,type:"DIRECT_UNSEEN_COUNT_UPDATED"})},onUpdatedMessage:o,onUpdateDMSettings:function(a,b,c){b=d("PolarisDirectDeltaHandlers").parseDMSettings(a);if(b==null)return;j({dm_settings:b,threadId:c,type:"DIRECT_THREAD_DM_SETTINGS_UPDATED"})},onUpdateEmoji:function(a,b,c,e,f){b=a!=null?String(d("PolarisDirectDeltaHandlers").parseDeltaItem(a)):void 0;p(d("PolarisDirectConstants").LikeAction.CREATED,c,e,f,b)}};s==null?(g.logError("seq_id_is_null"),d("PolarisDirectAPI").getBadgeCount().then(function(b){b.seq_id!=null&&i(b.seq_id,t,a,f,u,r)})):i(s,t,a,f,u,r)}}function i(a,b,c,e,f,g){d("PolarisDirectMQTTInstance").createMqttInstance(a,b,c,e).then(function(a){a!=null&&a.connect(f,g)})}g.connectToMqtt=h}),98);
__d("PolarisDirectActionInitInbox",["PolarisDirectAPI","PolarisDirectActionConnectToMqtt","PolarisDirectActionCreatePendingThreadsLoaded","PolarisDirectActionLoadInbox","PolarisDirectActionRefreshPendingInbox","PolarisDirectActionReloadInbox","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisToastActions","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){try{c=c();c=c.direct;var e=c.inboxLoaded;c=c.seqId;d("PolarisDirectActionsLogger").directActionsLogger.debugTrace("initial_state",{inboxLoaded:e,seqId:c});!e?yield b(d("PolarisDirectActionLoadInbox").loadInbox(a)):(b({type:"DIRECT_INBOX_READY"}),d("PolarisDirectAPI").getInbox("pending_only",{limit:0}).then(function(a){a.pending_requests_total>0?b(d("PolarisDirectActionRefreshPendingInbox").refreshPendingInbox()):b(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded({},{},{},null))})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_init_inbox_failed",a),b(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))}));b(d("PolarisDirectActionConnectToMqtt").connectToMqtt("message"))}catch(c){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_inbox_cache_failed",c),b(d("PolarisDirectActionReloadInbox").reloadInbox(a))}});return function(a,b){return c.apply(this,arguments)}}()}g.initInbox=a}),98);
__d("useIGDSecureShareSheetS2SLogger",["IGDSecureShareSheetS2SInstanceKeyContextProvider.react","QPLUserFlow","Random","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(){var a=d("IGDSecureShareSheetS2SInstanceKeyContextProvider.react").useIGDSecureShareSheetS2SInstanceKeyContext();return i(function(){return{markShareFail:function(b,d){var e=a.get(d);e!=null&&c("QPLUserFlow").endFailure(c("qpl")._(832770902,"1857"),b.name,{error:b,instanceKey:e});a["delete"](d)},markShareStart:function(b,e,f){for(b of b){var g;g=(g=f(b))!=null?g:{};var h=d("Random").uint32();a.set(b,h);c("QPLUserFlow").start(c("qpl")._(832770902,"1857"),{annotations:babelHelpers["extends"]({},g,{string:{messageLength:(g=e.messageLength)==null?void 0:g.toString(),recipientID:b,shareType:e.shareType,source:e.source}}),instanceKey:h})}},markShareSuccess:function(b){var d=a.get(b);d!=null&&c("QPLUserFlow").endSuccess(c("qpl")._(832770902,"1857"),{instanceKey:d});a["delete"](b)}}},[a])}g["default"]=a}),98);